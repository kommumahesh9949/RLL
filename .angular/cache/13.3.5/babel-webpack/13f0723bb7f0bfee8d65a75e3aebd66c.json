{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ViewAllBookingsComponent = class ViewAllBookingsComponent {\n  constructor(http, adminService) {\n    this.http = http;\n    this.adminService = adminService;\n    this.userId = '';\n    this.bookings = [];\n  }\n\n  fetchBookings() {\n    const url = `http://localhost:8086/admin/getBookingByUser/${this.userId}`;\n    this.http.get(url).subscribe(data => {\n      this.bookings = data;\n      console.log(data); // Check the data in the console\n    }, error => {\n      console.error('Error fetching data:', error);\n    });\n  }\n\n  deleteBooking(bookingId) {\n    if (confirm('Are you sure you want to delete this user?')) {\n      this.adminService.deleteBooking(bookingId).subscribe(response => {\n        // After successful deletion, reload the user list\n        this.fetchBookings(); // Manually trigger change detection using NgZone\n\n        this.ngZone.run(() => {});\n      }, error => {\n        console.error(error);\n      });\n    }\n  }\n\n};\nViewAllBookingsComponent = __decorate([Component({\n  selector: 'app-view-all-bookings',\n  templateUrl: './view-all-bookings.component.html',\n  styleUrls: ['./view-all-bookings.component.css']\n})], ViewAllBookingsComponent);\nexport { ViewAllBookingsComponent };","map":null,"metadata":{},"sourceType":"module"}