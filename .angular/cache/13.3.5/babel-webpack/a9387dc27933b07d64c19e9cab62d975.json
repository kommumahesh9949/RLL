{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/user.service\";\nexport let UserHomeComponent = /*#__PURE__*/(() => {\n  class UserHomeComponent {\n    constructor(formBuilder, router, userService) {\n      this.formBuilder = formBuilder;\n      this.router = router;\n      this.userService = userService;\n      this.bus = null;\n      this.notFound = null;\n      this.found = false;\n      this.userId = null;\n      this.user = null;\n      /* bus search form */\n\n      this.searchForm = this.formBuilder.group({\n        arrivalBusstop: [null, Validators.required],\n        departureBusstop: [null, Validators.required],\n        date: [null, [Validators.required, this.dateValidator]]\n      });\n    }\n\n    ngOnInit() {\n      this.userId = localStorage.getItem(\"userId\");\n      console.log(this.userId);\n\n      if (this.userId == null) {\n        this.router.navigate([\"/error\", \"not logged in, login to continue\"]);\n      } else {\n        this.userId = parseInt(this.userId);\n        this.userService.getUser(this.userId).subscribe(data => {\n          this.user = data;\n        }, error => {\n          this.router.navigate([\"/error\", \"not logged in, login to continue\"]);\n        });\n      }\n    }\n    /* ------method to search bus--------- */\n\n\n    search() {\n      console.log(this.searchForm.get(\"date\").value);\n      this.userService.searchBus(this.searchForm.get(\"departureBusstop\").value, this.searchForm.get(\"arrivalBusstop\").value, this.searchForm.get(\"date\").value).subscribe(data => {\n        this.bus = data;\n        console.log(this.bus);\n\n        if (this.bus) {\n          this.notFound = null;\n          this.found = true;\n        } else {\n          this.notFound = \"no bus found\";\n          this.found = false;\n        }\n      }, error => {\n        this.notFound = \"no bus found\";\n        this.found = false;\n      });\n    }\n    /* method to validate date */\n\n\n    dateValidator(control) {\n      const inputDate = new Date(control.value);\n      const currentDate = new Date();\n\n      if (inputDate < currentDate) {\n        return {\n          dateError: true\n        };\n      }\n\n      return null;\n    }\n\n    logout() {\n      localStorage.removeItem(\"userId\");\n      this.router.navigate([\"/userLogin\"]);\n    }\n\n    getBookings() {\n      this.router.navigate([\"/getBookingByUser\", this.userId]);\n    }\n\n    addPassengers() {\n      this.router.navigate([\"/addPassengers\", this.bus.busNumber]);\n    }\n\n  }\n\n  UserHomeComponent.ɵfac = function UserHomeComponent_Factory(t) {\n    return new (t || UserHomeComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserService));\n  };\n\n  UserHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserHomeComponent,\n    selectors: [[\"app-user-home\"]],\n    decls: 20,\n    vars: 0,\n    consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [\"rel\", \"stylesheet\", \"href\", \"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\"], [1, \"container\", \"mt-5\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"card\", \"custom-card\"], [\"src\", \"your-image-url.jpg\", \"alt\", \"Card Image\", 1, \"card-img-top\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [\"href\", \"#\", 1, \"btn\", \"btn-primary\"]],\n    template: function UserHomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2);\n        i0.ɵɵelementStart(4, \"title\");\n        i0.ɵɵtext(5, \"Beautiful Card Design\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"link\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"body\")(8, \"div\", 4)(9, \"div\", 5)(10, \"div\", 6)(11, \"div\", 7);\n        i0.ɵɵelement(12, \"img\", 8);\n        i0.ɵɵelementStart(13, \"div\", 9)(14, \"h5\", 10);\n        i0.ɵɵtext(15, \"Beautiful Card\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"p\", 11);\n        i0.ɵɵtext(17, \"This is a stunning card design created using Bootstrap.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"a\", 12);\n        i0.ɵɵtext(19, \"Learn More\");\n        i0.ɵɵelementEnd()()()()()()()();\n      }\n    },\n    styles: [\".bg[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,rgba(0,0,0,.52),rgba(0,0,0,.73)),url(5.jpg);background-position:center;background-size:cover;background-repeat:no-repeat}.bg2[_ngcontent-%COMP%]{background:linear-gradient(to bottom,rgba(0,0,0,.1),rgba(0,0,0,.15));background-size:cover;background-repeat:no-repeat;background-position:center}.bg1[_ngcontent-%COMP%]{background-color:#62bebc;background-image:linear-gradient(315deg,#36427a 0%,#584858 74%);background-size:cover}.jb1[_ngcontent-%COMP%]{width:1120px;margin-left:auto;margin-right:auto}.r1[_ngcontent-%COMP%]{width:500px;margin-left:auto;margin-right:auto}\", \".custom-card[_ngcontent-%COMP%] {\\n      border: none;\\n      border-radius: 10px;\\n      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n    }\\n    .custom-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%] {\\n      border-top-left-radius: 10px;\\n      border-top-right-radius: 10px;\\n    }\"]\n  });\n  return UserHomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}